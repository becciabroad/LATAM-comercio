---
title: Datos Historicos del Comercio Exterior de América Latina
author: Rebecca Hoffmann
date: '2020-12-07'
slug: datos-historicos
categories: []
tags: []
draft: false
output:
  blogdown::html_page
---

<link href="index_files/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="index_files/anchor-sections/anchor-sections.js"></script>


<p>En este post, querría analizar la evolución del comercio en la región de América Latin utilizando el base de dato de Open Trade Statistics:</p>
<div id="las-libraría-utilizadas" class="section level3">
<h3>Las libraría utilizadas:</h3>
<pre class="r"><code>library(tidyverse)
library(tradestatistics)
library(ggplot2)</code></pre>
</div>
<div id="los-datos" class="section level2">
<h2>Los datos</h2>
<p>Descargo el base de datos:
I rename the column “reporter_iso” to be able to merge it with the second data frame from Open Trade Statistics:</p>
<pre class="r"><code>comercio_mundo_api &lt;- tradestatistics::ots_create_tidy_data(years = 1980:2018, reporters = &quot;all&quot;, partners = &quot;all&quot;) %&gt;%
  rename(country_iso = &#39;reporter_iso&#39;)</code></pre>
<p>From another data base in Open Trade Statistics, I can choose only countries belonging to the continent of The Americas:</p>
<pre class="r"><code>countries_LATAM &lt;- tradestatistics::ots_countries %&gt;%
  filter(continent == &quot;Americas&quot;) </code></pre>
<p>Merging the two data frames to have the information about the Americas:</p>
<pre class="r"><code>comercio_latam_reducido &lt;- merge(x = comercio_mundo_api, y = countries_LATAM,
      by = &quot;country_iso&quot;) %&gt;%
  select(country_iso, year, country_fullname_english, export_value_usd) %&gt;%
  drop_na() #limpio los N/A, this excludes a lot of observations/countries - I need to check this again</code></pre>
</div>
<div id="transformando-los-datos" class="section level2">
<h2>Transformando los datos</h2>
<p>Now I have a data frame including information only for the region of the Americas.
I want to select the variables I want for the visualization of the total export. However, I only want to include information about Latin American countries. So, I also exclude the US and Canada from the analysis:</p>
<pre class="r"><code>comercio_latam_modificado &lt;- comercio_latam_reducido %&gt;%
  select(year, 
         country_iso, 
         country_fullname_english, 
         export_value_usd) %&gt;%
  filter(country_iso != &quot;usa&quot;,
         country_iso != &quot;can&quot;,
         country_iso != &quot;vir&quot;, # Excluding one observation of US Virgin Islands
         country_iso != &quot;umi&quot;) # Excluding &quot;United States Minor Outlying Islands&quot;</code></pre>
<p>Before, I graph the results, I want to merge all the Caribbean countries into one category for the Caribbean countries:</p>
</div>
<div id="graficando" class="section level2">
<h2>Graficando</h2>
<pre class="r"><code>ggplot(comercio_latam_modificado) +
  geom_line(aes(year,
                export_value_usd,
                group = country_fullname_english,
                color = country_fullname_english)) +
  labs(title = &quot;Evolución de exportación en América Latina&quot;,
       y = &quot;export en USD&quot;,
       x = &quot;Año&quot;)+
  theme(legend.position = &quot;bottom&quot;)</code></pre>
<p><img src="index_files/figure-html/comercio%20LATAM%20exclude-1.png" width="672" /></p>
</div>
